"use strict";function woosb_init(o){var a,t=woosb_container(o.attr("data-id")),t=o.closest(t);woosb_check_ready(t),woosb_calc_price(t),woosb_save_ids(t)}function woosb_check_ready(o){var a=0,t="",s=!1,r=!0,e=!1,c=!1,n=o.find(".woosb-products"),i=o.find(".woosb-alert"),o=o.find(".single_add_to_cart_button");o.removeClass("ajax_add_to_cart"),!n.length||"no"===n.attr("data-variables")&&"no"===n.attr("data-optional")||(n.find(".woosb-product").each(function(){var o=jQuery(this);0<parseFloat(o.attr("data-qty"))&&0===parseInt(o.attr("data-id"))&&(s=!0,""===t&&(t=o.attr("data-name"))),0<parseFloat(o.attr("data-qty"))&&(r=!1,a+=parseFloat(o.attr("data-qty")))}),"yes"===n.attr("data-optional")&&n.attr("data-min")&&a<parseFloat(n.attr("data-min"))&&(e=!0),"yes"===n.attr("data-optional")&&n.attr("data-max")&&a>parseFloat(n.attr("data-max"))&&(c=!0),s||r||e||c?(o.addClass("woosb-disabled disabled"),s?i.html(woosb_vars.alert_selection.replace("[name]","<strong>"+t+"</strong>")).slideDown():r?i.html(woosb_vars.alert_empty).slideDown():e?i.html(woosb_vars.alert_min.replace("[min]",n.attr("data-min"))).slideDown():c&&i.html(woosb_vars.alert_max.replace("[max]",n.attr("data-max"))).slideDown()):(i.html("").slideUp(),o.removeClass("woosb-disabled disabled")))}function woosb_calc_price(o){var a=0,t=0,s=o.find(".woosb-products"),r=o.find(".woosb-total"),e=o.find(".woobt-wrap"),c=parseFloat(e.length?e.attr("data-total"):0),n=parseFloat(s.attr("data-discount")),i=parseFloat(s.attr("data-discount-amount")),l="",d=Math.pow(10,Number(woosb_vars.price_decimals)+1),p=0<n&&n<100,b=0<i;s.find(".woosb-product").each(function(){var o=jQuery(this),o;0<parseFloat(o.attr("data-price"))&&(o=parseFloat(o.attr("data-price"))*parseFloat(o.attr("data-qty")),a+=o,!b&&p&&(o*=(100-n)/100,o=Math.round(o*d)/d),t+=o)}),a=woosb_round(a,woosb_vars.price_decimals),b&&i<a?(t=a-i,l=woosb_format_price(i)):p?l=woosb_round(n,2)+"%":t=a;var i=woosb_price_html(a,t),c=woosb_price_html(a+c,t+c);""!==l&&(i+=' <small class="woocommerce-price-suffix">'+woosb_vars.saved_text.replace("[d]",l)+"</small>");var l=".summary > .price";"yes_custom"===woosb_vars.change_price&&null!=woosb_vars.price_selector&&""!==woosb_vars.price_selector&&(l=woosb_vars.price_selector),r.html(woosb_vars.price_text+" "+i).slideDown(),"no"===woosb_vars.change_price||"no"!==s.attr("data-fixed-price")||"yes"!==s.attr("data-variables")&&"yes"!==s.attr("data-optional")||(e.length?o.find(l).html(c):o.find(l).html(i)),e.length&&e.find(".woobt-products").attr("data-product-price",t),jQuery(document).trigger("woosb_calc_price",[t,a,i])}function woosb_save_ids(o){var a=Array(),t=o.find(".woosb-ids"),s;o.find(".woosb-products").find(".woosb-product").each(function(){var o=jQuery(this);0<parseInt(o.attr("data-id"))&&0<parseFloat(o.attr("data-qty"))&&a.push(o.attr("data-id")+"/"+o.attr("data-qty"))}),t.val(a.join(",")),jQuery(document).trigger("woosb_save_ids",[a])}function woosb_check_qty(o){var a=o.closest(".woosb-wrap"),t=parseFloat(o.val()),s=parseFloat(o.attr("min")),r=parseFloat(o.attr("max")),r,t,o,r;""!==t&&!isNaN(t)||(t=0),!isNaN(s)&&t<s&&(t=s),!isNaN(r)&&r<t&&(t=r),o.val(t),o.closest(".woosb-product").attr("data-qty",t),"subtotal"===woosb_vars.bundled_price&&(r=a.find(".woosb-products"),t=o.closest(".woosb-product"),o=parseFloat(t.attr("data-price"))*parseFloat(t.attr("data-qty")),t.find(".woosb-price-ori").hide(),0<parseFloat(r.attr("data-discount"))&&"no"===r.attr("data-fixed-price")?(r=o*(100-parseFloat(r.attr("data-discount")))/100,t.find(".woosb-price-new").html(woosb_price_html(o,r)).show()):t.find(".woosb-price-new").html(woosb_price_html(o)).show()),woosb_init(a)}function woosb_round(o,a){return Number(Math.round(o+"e"+a)+"e-"+a)}function woosb_format_money(o,a,t,s,r){o=o||0,a=isNaN(a=Math.abs(a))?2:a,t=void 0!==t?t:"$",s=s||",",r=r||".";var e=o<0?"-":"",c=parseInt(o=woosb_round(Math.abs(+o||0),a).toFixed(a),10)+"",n=0;return t+e+((n=3<c.length?c.length%3:n)?c.substr(0,n)+s:"")+c.substr(n).replace(/(\d{3})(?=\d)/g,"$1"+s)+(a?r+woosb_round(Math.abs(o-c),a).toFixed(a).slice(2):"")}function woosb_format_price(o){var a='<span class="woocommerce-Price-amount amount">',t=woosb_format_money(o,woosb_vars.price_decimals,"",woosb_vars.price_thousand_separator,woosb_vars.price_decimal_separator);switch(woosb_vars.price_format){case"%1$s%2$s":a+='<span class="woocommerce-Price-currencySymbol">'+woosb_vars.currency_symbol+"</span>"+t;break;case"%1$s %2$s":a+='<span class="woocommerce-Price-currencySymbol">'+woosb_vars.currency_symbol+"</span> "+t;break;case"%2$s%1$s":a+=t+'<span class="woocommerce-Price-currencySymbol">'+woosb_vars.currency_symbol+"</span>";break;case"%2$s %1$s":a+=t+' <span class="woocommerce-Price-currencySymbol">'+woosb_vars.currency_symbol+"</span>";break;default:a+='<span class="woocommerce-Price-currencySymbol">'+woosb_vars.currency_symbol+"</span> "+t}return a+="</span>"}function woosb_price_html(o,a){var t="",t;return t=a<o?"<del>"+woosb_format_price(o)+"</del> <ins>"+woosb_format_price(a)+"</ins>":woosb_format_price(o)}function woosb_decimal_places(o){var o=(""+o).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return o?Math.max(0,(o[1]?o[1].length:0)-(o[2]?+o[2]:0)):0}function woosb_container(o){return""!=woosb_vars.container_selector&&jQuery(woosb_vars.container_selector).length?woosb_vars.container_selector:jQuery(".woosb-wrap-"+o).closest("#product-"+o).length?"#product-"+o:jQuery(".woosb-wrap-"+o).closest(".product.post-"+o).length?".product.post-"+o:jQuery(".woosb-wrap-"+o).closest("div.product-type-woosb").length?"div.product-type-woosb":jQuery(".woosb-wrap-"+o).closest(".elementor-product-woosb").length?".elementor-product-woosb":"body.single-product"}!function(e){e(document).ready(function(){e(".woosb-wrap").length&&e(".woosb-wrap").each(function(){woosb_init(e(this))})}),e(document).on("woosq_loaded",function(){woosb_init(e("#woosq-popup .woosb-wrap"))}),e(document).on("click touch",".woosb-qty-input-plus, .woosb-qty-input-minus",function(){var o=e(this).closest(".woosb-qty-input").find(".qty"),a=parseFloat(o.val()),t=parseFloat(o.attr("max")),s=parseFloat(o.attr("min")),r=o.attr("step");a&&""!==a&&"NaN"!==a||(a=0),""!==t&&"NaN"!==t||(t=""),""!==s&&"NaN"!==s||(s=0),r="any"===r||""===r||void 0===r||"NaN"===parseFloat(r)?1:parseFloat(r),e(this).is(".woosb-qty-input-plus")?t&&(t==a||t<a)?o.val(t):o.val((a+r).toFixed(woosb_decimal_places(r))):s&&(s==a||a<s)?o.val(s):0<a&&o.val((a-r).toFixed(woosb_decimal_places(r))),o.trigger("change")}),e(document).on("click touch",".single_add_to_cart_button",function(o){var a;e(this).hasClass("woosb-disabled")&&o.preventDefault()}),e(document).on("change",".woosb-qty .qty",function(){var o;woosb_check_qty(e(this))});var a=null;e(document).on("keyup",".woosb-qty .qty",function(){var o=e(this);null!=a&&clearTimeout(a),a=setTimeout(woosb_check_qty,1e3,o)})}(jQuery);