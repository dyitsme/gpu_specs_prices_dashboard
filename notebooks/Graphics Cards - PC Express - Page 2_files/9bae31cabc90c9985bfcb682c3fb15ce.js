jQuery(document).ready(function(r){function _(){y.off("change"),y=r('.wishlist_table tbody input[type="checkbox"]'),void 0!==r.fn.selectBox&&r("select.selectBox").selectBox(),w(),u()}function i(){var t=r(".woocommerce-message");0==t.length?r("#yith-wcwl-form").prepend(yith_wcwl_l10n.labels.added_to_cart_message):t.fadeOut(300,function(){r(this).replaceWith(yith_wcwl_l10n.labels.added_to_cart_message).fadeIn()})}function e(s){var t=s.data("product-id"),l=r(".add-to-wishlist-"+t),i,e,a,i,t={add_to_wishlist:t,product_type:s.data("product-type"),action:yith_wcwl_l10n.actions.add_to_wishlist_action};yith_wcwl_l10n.multi_wishlist&&yith_wcwl_l10n.is_user_logged_in&&(e=(i=s.parents(".yith-wcwl-popup-footer").prev(".yith-wcwl-popup-content")).find(".wishlist-select"),a=i.find(".wishlist-name"),i=i.find(".wishlist-visibility"),t.wishlist_id=e.val(),t.wishlist_name=a.val(),t.wishlist_visibility=i.val()),c()?r.ajax({type:"POST",url:yith_wcwl_l10n.ajax_url,data:t,dataType:"json",beforeSend:function(){s.siblings(".ajax-loading").css("visibility","visible")},complete:function(){s.siblings(".ajax-loading").css("visibility","hidden")},success:function(e){var t=r("#yith-wcwl-popup-message"),i=e.result,a=e.message,o;yith_wcwl_l10n.multi_wishlist&&yith_wcwl_l10n.is_user_logged_in&&(o=r("select.wishlist-select"),yith_wcwl_l10n.multi_wishlist&&void 0!==r.prettyPhoto&&void 0!==r.prettyPhoto.close&&r.prettyPhoto.close(),o.each(function(t){var i=(t=r(this)).find("option"),i;if((i=i.slice(1,i.length-1)).remove(),void 0!==e.user_wishlists)for(i in i=0,e.user_wishlists)"1"!=e.user_wishlists[i].is_default&&r("<option>").val(e.user_wishlists[i].ID).html(e.user_wishlists[i].wishlist_name).insertBefore(t.find("option:last-child"))})),r("#yith-wcwl-message").html(a),t.css("margin-left","-"+r(t).width()+"px").fadeIn(),window.setTimeout(function(){t.fadeOut()},2e3),"true"==i?(yith_wcwl_l10n.multi_wishlist&&yith_wcwl_l10n.is_user_logged_in&&!(yith_wcwl_l10n.multi_wishlist&&yith_wcwl_l10n.is_user_logged_in&&yith_wcwl_l10n.hide_add_button)||l.find(".yith-wcwl-add-button").hide().removeClass("show").addClass("hide"),l.find(".yith-wcwl-wishlistexistsbrowse").hide().removeClass("show").addClass("hide").find("a").attr("href",e.wishlist_url),l.find(".yith-wcwl-wishlistaddedbrowse").show().removeClass("hide").addClass("show").find("a").attr("href",e.wishlist_url)):"exists"==i?(yith_wcwl_l10n.multi_wishlist&&yith_wcwl_l10n.is_user_logged_in&&!(yith_wcwl_l10n.multi_wishlist&&yith_wcwl_l10n.is_user_logged_in&&yith_wcwl_l10n.hide_add_button)||l.find(".yith-wcwl-add-button").hide().removeClass("show").addClass("hide"),l.find(".yith-wcwl-wishlistexistsbrowse").show().removeClass("hide").addClass("show").find("a").attr("href",e.wishlist_url),l.find(".yith-wcwl-wishlistaddedbrowse").hide().removeClass("show").addClass("hide").find("a").attr("href",e.wishlist_url)):(l.find(".yith-wcwl-add-button").show().removeClass("hide").addClass("show"),l.find(".yith-wcwl-wishlistexistsbrowse").hide().removeClass("show").addClass("hide"),l.find(".yith-wcwl-wishlistaddedbrowse").hide().removeClass("show").addClass("hide")),r("body").trigger("added_to_wishlist",[s,l])}}):alert(yith_wcwl_l10n.labels.cookie_disabled)}function o(t){var i=t.parents(".cart.wishlist_table"),e=i.data("pagination"),a=i.data("per-page"),o=i.data("page"),s=t.parents("[data-row-id]");i.find(".pagination-row");var l=s.data("row-id"),n=i.data("id"),d=i.data("token"),e={action:yith_wcwl_l10n.actions.remove_from_wishlist_action,remove_from_wishlist:l,pagination:e,per_page:a,current_page:o,wishlist_id:n,wishlist_token:d};r("#yith-wcwl-message").html("&nbsp;"),void 0!==r.fn.block&&i.fadeTo("400","0.6").block({message:null,overlayCSS:{background:"transparent url("+yith_wcwl_l10n.ajax_loader_url+") no-repeat center",backgroundSize:"16px 16px",opacity:.6}}),r("#yith-wcwl-form").load(yith_wcwl_l10n.ajax_url+" #yith-wcwl-form",e,function(){void 0!==r.fn.unblock&&i.stop(!0).css("opacity","1").unblock(),_(),r("body").trigger("removed_from_wishlist",[t,s])})}function s(t,i){var e=t.data("product-id"),a=r(document).find(".cart.wishlist_table"),o=a.data("pagination"),s=a.data("per-page"),l=a.data("id"),n=a.data("token"),e={action:yith_wcwl_l10n.actions.reload_wishlist_and_adding_elem_action,pagination:o,per_page:s,wishlist_id:l,wishlist_token:n,add_to_wishlist:e,product_type:t.data("product-type")};c()?r.ajax({type:"POST",url:yith_wcwl_l10n.ajax_url,data:e,dataType:"html",beforeSend:function(){void 0!==r.fn.block&&a.fadeTo("400","0.6").block({message:null,overlayCSS:{background:"transparent url("+yith_wcwl_l10n.ajax_loader_url+") no-repeat center",backgroundSize:"16px 16px",opacity:.6}})},success:function(t){t=r(t).find("#yith-wcwl-form"),i.replaceWith(t),_()}}):alert(yith_wcwl_l10n.labels.cookie_disabled)}function l(t){var i=t.parents(".cart.wishlist_table"),e=i.data("token"),a=i.data("id"),o=t.parents("[data-row-id]"),s=o.data("row-id"),l=t.val(),n=i.data("pagination"),d=i.data("per-page"),c=i.data("page"),e={action:yith_wcwl_l10n.actions.move_to_another_wishlist_action,wishlist_token:e,wishlist_id:a,destination_wishlist_token:l,item_id:s,pagination:n,per_page:d,current_page:c};""!=l&&(void 0!==r.fn.block&&i.fadeTo("400","0.6").block({message:null,overlayCSS:{background:"transparent url("+yith_wcwl_l10n.ajax_loader_url+") no-repeat center",backgroundSize:"16px 16px",opacity:.6}}),r("#yith-wcwl-form").load(yith_wcwl_l10n.ajax_url+" #yith-wcwl-form",e,function(){void 0!==r.fn.unblock&&i.stop(!0).css("opacity","1").unblock(),_(),r("body").trigger("moved_to_another_wishlist",[t,o])}))}function n(t){var i=r(this);t.preventDefault(),i.parents(".wishlist-title").next().show(),i.parents(".wishlist-title").hide()}function d(t){var i=r(this);t.preventDefault(),i.parents(".hidden-title-form").hide(),i.parents(".hidden-title-form").prev().show()}function c(){if(navigator.cookieEnabled)return 1;document.cookie="cookietest=1";var t=-1!=document.cookie.indexOf("cookietest=");return document.cookie="cookietest=1; expires=Thu, 01-Jan-1970 00:00:01 GMT",t}function h(){var t,t;0!=r(".yith-wcwl-add-to-wishlist").length&&0==r("#yith-wcwl-popup-message").length&&(t=r("<div>").attr("id","yith-wcwl-message"),t=r("<div>").attr("id","yith-wcwl-popup-message").html(t).hide(),r("body").prepend(t))}function w(){y.on("change",function(){var i="",t,e=(t=r(this).parents(".cart.wishlist_table")).data("id"),t=t.data("token"),a=document.URL;y.filter(":checked").each(function(){var t=r(this);i+=0!=i.length?",":"",i+=t.parents("[data-row-id]").data("row-id")}),a=p(a,"wishlist_products_to_add_to_cart",i),a=p(a,"wishlist_token",t),a=p(a,"wishlist_id",e),r("#custom_add_to_cart").attr("href",a)})}function u(){void 0!==r.prettyPhoto&&r('a[data-rel^="prettyPhoto[add_to_wishlist_"]').add('a[data-rel="prettyPhoto[ask_an_estimate]"]').unbind("click").prettyPhoto({hook:"data-rel",social_tools:!1,theme:"pp_woocommerce",horizontal_padding:20,opacity:.8,deeplinking:!1})}function p(t,i,e){return e=i+"="+e,t=!(-1<(t=t.replace(new RegExp("(&|\\?)"+i+"=[^&]*"),"$1"+e)).indexOf(i+"="))?-1<t.indexOf("?")?t+"&"+e:t+"?"+e:t}var f="undefined"!=typeof wc_add_to_cart_params&&null!==wc_add_to_cart_params?wc_add_to_cart_params.cart_redirect_after_add:"",y=r('.wishlist_table tbody input[type="checkbox"]:not(:disabled)');r(document).on("yith_wcwl_init",function(){var t=r(this),a=r('.wishlist_table tbody input[type="checkbox"]:not(:disabled)');t.on("click",".add_to_wishlist",function(t){var i=r(this);return t.preventDefault(),jQuery(document.body).trigger("adding_to_wishlist"),e(i),!1}),t.on("click",".remove_from_wishlist",function(t){var i=r(this);return t.preventDefault(),o(i),!1}),t.on("adding_to_cart","body",function(t,i,e){void 0!==i&&void 0!==e&&0!=i.closest(".wishlist_table").length&&(e.remove_from_wishlist_after_add_to_cart=i.closest("[data-row-id]").data("row-id"),e.wishlist_id=i.closest(".wishlist_table").data("id"),wc_add_to_cart_params.cart_redirect_after_add=yith_wcwl_l10n.redirect_to_cart)}),t.on("added_to_cart","body",function(t){wc_add_to_cart_params.cart_redirect_after_add=f,(t=r(".wishlist_table")).find(".added").removeClass("added"),t.find(".added_to_cart").remove()}),t.on("added_to_cart","body",i),t.on("cart_page_refreshed","body",_),t.on("click",".show-title-form",n),t.on("click",".wishlist-title-with-form h2",n),t.on("click",".hide-title-form",d),t.on("change",".change-wishlist",function(t){return l(t=r(this)),!1}),t.on("change",".yith-wcwl-popup-content .wishlist-select",function(t){"new"==(t=r(this)).val()?t.parents(".yith-wcwl-first-row").next(".yith-wcwl-second-row").css("display","table-row"):t.parents(".yith-wcwl-first-row").next(".yith-wcwl-second-row").hide()}),t.on("change","#bulk_add_to_cart",function(){(r(this).is(":checked")?a.attr("checked","checked"):a.removeAttr("checked")).change()}),t.on("click","#custom_add_to_cart",function(t){var i=r(this),e=i.parents(".cart.wishlist_table");yith_wcwl_l10n.ajax_add_to_cart_enabled&&(t.preventDefault(),void 0!==r.fn.block&&e.fadeTo("400","0.6").block({message:null,overlayCSS:{background:"transparent url("+yith_wcwl_l10n.ajax_loader_url+") no-repeat center",backgroundSize:"16px 16px",opacity:.6}}),r("#yith-wcwl-form").load(yith_wcwl_l10n.ajax_url+i.attr("href")+" #yith-wcwl-form",{action:yith_wcwl_l10n.actions.bulk_add_to_cart_action},function(){void 0!==r.fn.unblock&&e.stop(!0).css("opacity","1").unblock(),a.off("change"),a=r('.wishlist_table tbody input[type="checkbox"]'),void 0!==r.fn.selectBox&&r("select.selectBox").selectBox(),w(),u()}))}),t.on("click",".yith-wfbt-add-wishlist",function(t){t.preventDefault(),t=r(this);var i=r("#yith-wcwl-form");r("html, body").animate({scrollTop:i.offset().top},500),s(t,i)}),h(),w(),u()}).trigger("yith_wcwl_init"),r(document).on("yith_infs_added_elem",function(){u()}),void 0!==r.fn.selectBox&&r("select.selectBox").selectBox(),r(".copy-trigger").on("click",function(t){0<(t=r(".copy-target")).length&&(t.is("input")?(navigator.userAgent.match(/ipad|iphone/i)?t[0].setSelectionRange(0,9999):t.select(),document.execCommand("copy")):(t=r("<input/>",{val:t.text(),type:"text"}),b("body").append(t),navigator.userAgent.match(/ipad|iphone/i)?t[0].setSelectionRange(0,9999):t.select(),document.execCommand("copy"),t.remove()))})});